{
 "name": "fabric_contract",
 "description": " ",
 "version": "1.0.0",
 "type": "flogo:app",
 "appModel": "1.0.0",
 "resources": [
  {
   "id": "flow:Put_Record_2",
   "data": {
    "name": "Put Record 2",
    "description": "illustrate that transient attribute on trigger cannot be added after creation",
    "tasks": [
     {
      "id": "LogMessage",
      "name": "LogMessage",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
       "settings": {},
       "input": {},
       "output": {},
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['message']",
          "type": "expression",
          "value": "string.concat(\"[put_record_2] \", $flow.parameters.user_txn_id)"
         }
        ]
       }
      }
     },
     {
      "id": "Put",
      "name": "Put",
      "activity": {
       "ref": "github.com/yxuco/flogo-enterprise-app/fabric/activity/put",
       "settings": {},
       "input": {
        "valueType": "object",
        "data": {
         "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"txn_id\":{\"type\":\"string\"},\"txn_time\":{\"type\":\"string\"},\"sequence\":{\"type\":\"number\"},\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}}",
         "value": ""
        },
        "compositeKeys": "{\n    \"user_txn_id\": [\"user_txn_id\"],\n    \"hash_value\": [\"hash_value\"]\n}"
       },
       "output": {
        "result": {
         "metadata": "",
         "value": ""
        }
       },
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['key']",
          "type": "expression",
          "value": "string.concat($flow.txID, \":\", $flow.txTime, \":0\")"
         },
         {
          "mapTo": "$INPUT['data']['txn_id']",
          "type": "assign",
          "value": "$flow.txID"
         },
         {
          "mapTo": "$INPUT['data']['txn_time']",
          "type": "assign",
          "value": "$flow.txTime"
         },
         {
          "mapTo": "$INPUT['data']['sequence']",
          "type": "literal",
          "value": 0
         },
         {
          "mapTo": "$INPUT['data']['user_txn_id']",
          "type": "assign",
          "value": "$flow.parameters.user_txn_id"
         },
         {
          "mapTo": "$INPUT['data']['data']",
          "type": "assign",
          "value": "$flow.parameters.data"
         },
         {
          "mapTo": "$INPUT['data']['hash_type']",
          "type": "assign",
          "value": "$flow.parameters.hash_type"
         },
         {
          "mapTo": "$INPUT['data']['hash_value']",
          "type": "assign",
          "value": "$flow.parameters.hash_value"
         }
        ]
       }
      }
     },
     {
      "id": "LogMessage1",
      "name": "LogMessage1",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
       "settings": {},
       "input": {},
       "output": {},
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['message']",
          "type": "expression",
          "value": "string.concat(\"PUT: \", $activity[Put].message)"
         }
        ]
       }
      }
     },
     {
      "id": "Return",
      "name": "Return",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/actreturn",
       "settings": {},
       "input": {
        "mappings": [
         {
          "mapTo": "$INPUT['returns']",
          "type": "assign",
          "value": "$activity[Put].result"
         }
        ]
       },
       "output": {}
      }
     }
    ],
    "links": [
     {
      "id": 1,
      "from": "LogMessage",
      "to": "Put",
      "type": "default"
     },
     {
      "id": 2,
      "from": "Put",
      "to": "LogMessage1",
      "type": "default"
     },
     {
      "id": 3,
      "from": "LogMessage1",
      "to": "Return",
      "type": "default"
     }
    ],
    "metadata": {
     "input": [
      {
       "name": "parameters",
       "type": "complex_object",
       "value": {
        "value": "",
        "metadata": "{\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}"
       }
      },
      {
       "name": "txID",
       "type": "string"
      },
      {
       "name": "txTime",
       "type": "string"
      }
     ],
     "output": [
      {
       "name": "returns",
       "type": "complex_object",
       "value": {
        "value": "",
        "metadata": "{\"txn_id\":{\"type\":\"string\"},\"txn_time\":{\"type\":\"string\"},\"sequence\":{\"type\":\"number\"},\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}"
       }
      }
     ]
    }
   }
  },
  {
   "id": "flow:Put_Records",
   "data": {
    "name": "Put Records",
    "description": "PutAll cannot get array position for key sequence, so this model supports only single record",
    "tasks": [
     {
      "id": "LogMessage2",
      "name": "LogMessage2",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
       "settings": {},
       "input": {},
       "output": {},
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['message']",
          "type": "expression",
          "value": "string.concat(\"[put_records] \", $flow.parameters.records[0].user_txn_id)"
         }
        ]
       }
      }
     },
     {
      "id": "PutAll",
      "name": "PutAll",
      "activity": {
       "ref": "github.com/yxuco/flogo-enterprise-app/fabric/activity/putall",
       "settings": {},
       "input": {
        "data": {
         "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\"},\"value\":{\"type\":\"object\",\"properties\":{\"txn_id\":{\"type\":\"string\"},\"txn_time\":{\"type\":\"string\"},\"sequence\":{\"type\":\"number\"},\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}}}}}",
         "value": ""
        },
        "compositeKeys": "{\n    \"user_txn_id\": [\"user_txn_id\"],\n    \"hash_value\": [\"hash_value\"]\n}"
       },
       "output": {
        "result": {
         "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\"},\"value\":{\"type\":\"object\",\"properties\":{\"txn_id\":{\"type\":\"string\"},\"txn_time\":{\"type\":\"string\"},\"sequence\":{\"type\":\"number\"},\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}}}}}",
         "value": ""
        }
       },
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['data']",
          "type": "array",
          "value": "{\"to\":\"$INPUT['data']\",\"from\":\"$flow.parameters.records\",\"type\":\"foreach\",\"fields\":[{\"to\":\"$INPUT.$$['key']\",\"from\":\"string.concat($flow.txID, \\\":\\\", $flow.txTime, \\\":0\\\")\",\"type\":\"expression\"},{\"to\":\"$INPUT.$$['value']['txn_id']\",\"from\":\"$flow.txID\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['value']['txn_time']\",\"from\":\"$flow.txTime\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['value']['sequence']\",\"from\":0,\"type\":\"literal\"},{\"to\":\"$INPUT.$$['value']['user_txn_id']\",\"from\":\"$.user_txn_id\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['value']['data']\",\"from\":\"$.data\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['value']['hash_type']\",\"from\":\"SHA256\",\"type\":\"literal\"},{\"to\":\"$INPUT.$$['value']['hash_value']\",\"from\":\"calculate hash here\",\"type\":\"literal\"}]}"
         }
        ]
       }
      }
     },
     {
      "id": "LogMessage3",
      "name": "LogMessage3",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
       "settings": {},
       "input": {},
       "output": {},
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['message']",
          "type": "expression",
          "value": "string.concat(\"PUT_ALL: \", $activity[PutAll].message)"
         }
        ]
       }
      }
     },
     {
      "id": "Return1",
      "name": "Return1",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/actreturn",
       "settings": {},
       "input": {
        "mappings": [
         {
          "mapTo": "$INPUT['returns']",
          "type": "array",
          "value": "{\"to\":\"$INPUT['returns']\",\"from\":\"$activity[PutAll].result\",\"type\":\"foreach\",\"fields\":[{\"to\":\"$INPUT.$$['key']\",\"from\":\"$.key\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['value']\",\"from\":\"$.value\",\"type\":\"assign\"}]}"
         }
        ]
       },
       "output": {}
      }
     }
    ],
    "links": [
     {
      "id": 1,
      "from": "LogMessage2",
      "to": "PutAll",
      "type": "default"
     },
     {
      "id": 2,
      "from": "PutAll",
      "to": "LogMessage3",
      "type": "default"
     },
     {
      "id": 3,
      "from": "LogMessage3",
      "to": "Return1",
      "type": "default"
     }
    ],
    "metadata": {
     "input": [
      {
       "name": "parameters",
       "type": "complex_object",
       "value": {
        "value": "",
        "metadata": "{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"}}}}}"
       }
      },
      {
       "name": "txID",
       "type": "string"
      },
      {
       "name": "txTime",
       "type": "string"
      }
     ],
     "output": [
      {
       "name": "returns",
       "type": "array"
      }
     ]
    }
   }
  },
  {
   "id": "flow:Put_Records_2",
   "data": {
    "name": "Put Records 2",
    "description": "Cannot return all Put results, so returned only the last available Put record",
    "tasks": [
     {
      "id": "LogMessage4",
      "name": "LogMessage4",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
       "settings": {},
       "input": {},
       "output": {},
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['message']",
          "type": "expression",
          "value": "string.concat(\"[put_records_2] \", $flow.parameters.records[0].user_txn_id, \", count: \", string.tostring(array.count($flow.parameters.records)))"
         }
        ]
       }
      }
     },
     {
      "id": "Put1",
      "name": "Put1",
      "settings": {
       "iterate": "$flow.parameters.records"
      },
      "type": "iterator",
      "activity": {
       "ref": "github.com/yxuco/flogo-enterprise-app/fabric/activity/put",
       "settings": {},
       "input": {
        "valueType": "object",
        "data": {
         "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"txn_id\":{\"type\":\"string\"},\"txn_time\":{\"type\":\"string\"},\"sequence\":{\"type\":\"number\"},\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}}",
         "value": ""
        },
        "compositeKeys": "{\n    \"user_txn_id\": [\"user_txn_id\"],\n    \"hash_value\": [\"hash_value\"]\n}"
       },
       "output": {
        "result": {
         "metadata": "",
         "value": ""
        }
       },
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['key']",
          "type": "expression",
          "value": "string.concat($flow.txID, $flow.txTime, string.tostring($current.iteration.key))"
         },
         {
          "mapTo": "$INPUT['data']['txn_id']",
          "type": "assign",
          "value": "$flow.txID"
         },
         {
          "mapTo": "$INPUT['data']['txn_time']",
          "type": "assign",
          "value": "$flow.txTime"
         },
         {
          "mapTo": "$INPUT['data']['sequence']",
          "type": "assign",
          "value": "$current.iteration.key"
         },
         {
          "mapTo": "$INPUT['data']['user_txn_id']",
          "type": "assign",
          "value": "$current.iteration.value.user_txn_id"
         },
         {
          "mapTo": "$INPUT['data']['data']",
          "type": "assign",
          "value": "$current.iteration.value.data"
         },
         {
          "mapTo": "$INPUT['data']['hash_type']",
          "type": "literal",
          "value": "SHA256"
         },
         {
          "mapTo": "$INPUT['data']['hash_value']",
          "type": "literal",
          "value": "generated-hash"
         }
        ]
       }
      }
     },
     {
      "id": "LogMessage5",
      "name": "LogMessage5",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
       "settings": {},
       "input": {},
       "output": {},
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['message']",
          "type": "expression",
          "value": "string.concat(\"PUT: \", $activity[Put1].message)"
         }
        ]
       }
      }
     },
     {
      "id": "Return2",
      "name": "Return2",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/actreturn",
       "settings": {},
       "input": {
        "mappings": [
         {
          "mapTo": "$INPUT['returns']",
          "type": "array",
          "value": "{\"to\":\"$INPUT['returns']\",\"from\":\"NEWARRAY\",\"type\":\"foreach\",\"fields\":[{\"to\":\"$INPUT.$$['key']\",\"from\":\"$activity[Put1].key\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['value']\",\"from\":\"$activity[Put1].result\",\"type\":\"assign\"}]}"
         }
        ]
       },
       "output": {}
      }
     }
    ],
    "links": [
     {
      "id": 1,
      "from": "LogMessage4",
      "to": "Put1",
      "type": "default"
     },
     {
      "id": 2,
      "from": "Put1",
      "to": "LogMessage5",
      "type": "default"
     },
     {
      "id": 3,
      "from": "LogMessage5",
      "to": "Return2",
      "type": "default"
     }
    ],
    "metadata": {
     "input": [
      {
       "name": "parameters",
       "type": "complex_object",
       "value": {
        "value": "",
        "metadata": "{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"}}}}}"
       }
      },
      {
       "name": "txID",
       "type": "string"
      },
      {
       "name": "txTime",
       "type": "string"
      }
     ],
     "output": [
      {
       "name": "returns",
       "type": "array"
      }
     ]
    }
   }
  },
  {
   "id": "flow:Put_Record",
   "data": {
    "name": "Put Record",
    "description": "Illustrate use of transient attributes that must be specified at creation time",
    "tasks": [
     {
      "id": "LogMessage6",
      "name": "LogMessage6",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/log",
       "settings": {},
       "input": {},
       "output": {},
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['message']",
          "type": "expression",
          "value": "string.concat(\"[put_record] \", $flow.parameters.user_txn_id, \" secret: \", $flow.transient.secret)"
         }
        ]
       }
      }
     },
     {
      "id": "Put2",
      "name": "Put2",
      "activity": {
       "ref": "github.com/yxuco/flogo-enterprise-app/fabric/activity/put",
       "settings": {},
       "input": {
        "valueType": "object",
        "data": {
         "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"txn_id\":{\"type\":\"string\"},\"txn_time\":{\"type\":\"string\"},\"sequence\":{\"type\":\"number\"},\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}}",
         "value": ""
        },
        "compositeKeys": "{\n    \"user_txn_id\": [\"user_txn_id\"],\n    \"hash_value\": [\"hash_value\"]\n}"
       },
       "output": {
        "result": {
         "metadata": "",
         "value": ""
        }
       },
       "mappings": {
        "input": [
         {
          "mapTo": "$INPUT['key']",
          "type": "expression",
          "value": "string.concat($flow.txID, \":\", $flow.txTime, \":0\")"
         },
         {
          "mapTo": "$INPUT['data']['txn_id']",
          "type": "assign",
          "value": "$flow.txID"
         },
         {
          "mapTo": "$INPUT['data']['txn_time']",
          "type": "assign",
          "value": "$flow.txTime"
         },
         {
          "mapTo": "$INPUT['data']['sequence']",
          "type": "literal",
          "value": 0
         },
         {
          "mapTo": "$INPUT['data']['user_txn_id']",
          "type": "assign",
          "value": "$flow.parameters.user_txn_id"
         },
         {
          "mapTo": "$INPUT['data']['data']",
          "type": "assign",
          "value": "$flow.parameters.data"
         },
         {
          "mapTo": "$INPUT['data']['hash_type']",
          "type": "assign",
          "value": "$flow.parameters.hash_type"
         },
         {
          "mapTo": "$INPUT['data']['hash_value']",
          "type": "assign",
          "value": "$flow.parameters.hash_value"
         }
        ]
       }
      }
     },
     {
      "id": "Return3",
      "name": "Return3",
      "activity": {
       "ref": "github.com/TIBCOSoftware/flogo-contrib/activity/actreturn",
       "settings": {},
       "input": {},
       "output": {}
      }
     }
    ],
    "links": [
     {
      "id": 1,
      "from": "LogMessage6",
      "to": "Put2",
      "type": "default"
     },
     {
      "id": 2,
      "from": "Put2",
      "to": "Return3",
      "type": "default"
     }
    ],
    "metadata": {
     "input": [
      {
       "name": "parameters",
       "type": "complex_object",
       "value": {
        "value": "",
        "metadata": "{\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}"
       }
      },
      {
       "name": "transient",
       "type": "complex_object",
       "value": {
        "value": "",
        "metadata": "{\"secret\":{\"type\":\"string\"},\"pin\":{\"type\":\"number\"}}"
       }
      },
      {
       "name": "txID",
       "type": "string"
      },
      {
       "name": "txTime",
       "type": "string"
      }
     ],
     "output": [
      {
       "name": "returns",
       "type": "complex_object",
       "value": {
        "value": "",
        "metadata": "{\"txn_id\":{\"type\":\"string\"},\"txn_time\":{\"type\":\"string\"},\"sequence\":{\"type\":\"number\"},\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}"
       }
      }
     ]
    }
   }
  }
 ],
 "triggers": [
  {
   "ref": "github.com/yxuco/flogo-enterprise-app/fabric/trigger/transaction",
   "name": "Transaction",
   "description": "illustrate that transient attribute on trigger cannot be added after creation",
   "settings": {},
   "id": "Transaction",
   "handlers": [
    {
     "description": "illustrate that transient attribute on trigger cannot be added after creation",
     "settings": {
      "name": "put_record_2",
      "validation": false
     },
     "outputs": {
      "parameters": {
       "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}}",
       "value": ""
      },
      "txID": "",
      "txTime": "",
      "_chaincode_stub": ""
     },
     "action": {
      "ref": "github.com/TIBCOSoftware/flogo-contrib/action/flow",
      "data": {
       "flowURI": "res://flow:Put_Record_2"
      },
      "mappings": {
       "input": [
        {
         "mapTo": "$INPUT['parameters']",
         "type": "assign",
         "value": "$.parameters"
        },
        {
         "mapTo": "$INPUT['txID']",
         "type": "assign",
         "value": "$.txID"
        },
        {
         "mapTo": "$INPUT['txTime']",
         "type": "assign",
         "value": "$.txTime"
        }
       ],
       "output": [
        {
         "mapTo": "$INPUT['returns']",
         "type": "assign",
         "value": "$.returns"
        }
       ]
      }
     }
    },
    {
     "description": "PutAll cannot get array position for key sequence, so this model supports only single record",
     "settings": {
      "name": "put_records",
      "validation": false
     },
     "outputs": {
      "parameters": {
       "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"}}}}}}",
       "value": ""
      },
      "txID": "",
      "txTime": "",
      "_chaincode_stub": ""
     },
     "action": {
      "ref": "github.com/TIBCOSoftware/flogo-contrib/action/flow",
      "data": {
       "flowURI": "res://flow:Put_Records"
      },
      "mappings": {
       "input": [
        {
         "mapTo": "$INPUT['parameters']['records']",
         "type": "array",
         "value": "{\"to\":\"$INPUT['parameters']['records']\",\"from\":\"$.parameters.records\",\"type\":\"foreach\",\"fields\":[{\"to\":\"$INPUT.$$['user_txn_id']\",\"from\":\"$.user_txn_id\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['data']\",\"from\":\"$.data\",\"type\":\"assign\"}]}"
        },
        {
         "mapTo": "$INPUT['txID']",
         "type": "assign",
         "value": "$.txID"
        },
        {
         "mapTo": "$INPUT['txTime']",
         "type": "assign",
         "value": "$.txTime"
        }
       ],
       "output": [
        {
         "mapTo": "$INPUT['returns']",
         "type": "array",
         "value": "{\"to\":\"$INPUT['returns']\",\"from\":\"$.returns\",\"type\":\"foreach\",\"fields\":[{\"to\":\"$INPUT.$$['key']\",\"from\":\"$.key\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['value']\",\"from\":\"$.value\",\"type\":\"assign\"}]}"
        }
       ]
      }
     }
    },
    {
     "description": "Cannot return all Put results, so returned only the last available Put record",
     "settings": {
      "name": "put_records_2",
      "validation": false
     },
     "outputs": {
      "parameters": {
       "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"}}}}}}",
       "value": ""
      },
      "txID": "",
      "txTime": "",
      "_chaincode_stub": ""
     },
     "action": {
      "ref": "github.com/TIBCOSoftware/flogo-contrib/action/flow",
      "data": {
       "flowURI": "res://flow:Put_Records_2"
      },
      "mappings": {
       "input": [
        {
         "mapTo": "$INPUT['parameters']['records']",
         "type": "array",
         "value": "{\"to\":\"$INPUT['parameters']['records']\",\"from\":\"$.parameters.records\",\"type\":\"foreach\",\"fields\":[{\"to\":\"$INPUT.$$['user_txn_id']\",\"from\":\"$.user_txn_id\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['data']\",\"from\":\"$.data\",\"type\":\"assign\"}]}"
        },
        {
         "mapTo": "$INPUT['txID']",
         "type": "assign",
         "value": "$.txID"
        },
        {
         "mapTo": "$INPUT['txTime']",
         "type": "assign",
         "value": "$.txTime"
        }
       ],
       "output": [
        {
         "mapTo": "$INPUT['returns']",
         "type": "array",
         "value": "{\"to\":\"$INPUT['returns']\",\"from\":\"$.returns\",\"type\":\"foreach\",\"fields\":[{\"to\":\"$INPUT.$$['key']\",\"from\":\"$.key\",\"type\":\"assign\"},{\"to\":\"$INPUT.$$['value']\",\"from\":\"$.value\",\"type\":\"assign\"}]}"
        }
       ]
      }
     }
    },
    {
     "description": "Illustrate use of transient attributes that must be specified at creation time",
     "settings": {
      "name": "put_record",
      "validation": false
     },
     "outputs": {
      "parameters": {
       "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"user_txn_id\":{\"type\":\"string\"},\"data\":{\"type\":\"string\"},\"hash_type\":{\"type\":\"string\"},\"hash_value\":{\"type\":\"string\"}}}",
       "value": ""
      },
      "transient": {
       "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"secret\":{\"type\":\"string\"},\"pin\":{\"type\":\"number\"}}}",
       "value": ""
      },
      "txID": "",
      "txTime": "",
      "_chaincode_stub": ""
     },
     "action": {
      "ref": "github.com/TIBCOSoftware/flogo-contrib/action/flow",
      "data": {
       "flowURI": "res://flow:Put_Record"
      },
      "mappings": {
       "input": [
        {
         "mapTo": "$INPUT['parameters']",
         "type": "assign",
         "value": "$.parameters"
        },
        {
         "mapTo": "$INPUT['transient']",
         "type": "assign",
         "value": "$.transient"
        },
        {
         "mapTo": "$INPUT['txID']",
         "type": "assign",
         "value": "$.txID"
        },
        {
         "mapTo": "$INPUT['txTime']",
         "type": "assign",
         "value": "$.txTime"
        }
       ],
       "output": [
        {
         "mapTo": "$INPUT['returns']",
         "type": "assign",
         "value": "$.returns"
        }
       ]
      }
     }
    }
   ]
  }
 ],
 "properties": [],
 "ui": "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",
 "contrib": "W3sicmVmIjoiZ2l0aHViLmNvbS95eHVjby9mbG9nby1lbnRlcnByaXNlLWFwcC9mYWJyaWMiLCJzM2xvY2F0aW9uIjoie1VTRVJJRH0vZmFicmljIn0seyJyZWYiOiJnaXRodWIuY29tL1RJQkNPU29mdHdhcmUvZmxvZ28tY29udHJpYi9hY3Rpdml0eS9sb2ciLCJzM2xvY2F0aW9uIjoie1VTRVJJRH0vRGVmYXVsdC9hY3Rpdml0eS9sb2cifV0=",
 "connection": "UEsDBAoAAAAIACOjek4pu0wNBAAAAAIAAAAJAAAAY29ubi5qc29ui44FAFBLAQIUAAoAAAAIACOjek4pu0wNBAAAAAIAAAAJAAAAAAAAAAAAAAAAAAAAAABjb25uLmpzb25QSwUGAAAAAAEAAQA3AAAAKwAAAAAA"
}